<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    var p1 = new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve('p1')
      }, 1000)
    })
    var p2 = new Promise((resolve, reject) => {
      setTimeout(() => {
        resolve('p2')
      }, 3000)
    })
    var p3 = new Promise((resolve, reject) => {
      setTimeout(() => {
        reject('p3')
      }, 500)
    })
    // var p = Promise.all([p1, p3, p2])
    // p.then((res) => console.log(res))
     // 结果的顺序就是all数组中的顺序，与完成时间无关
    // 如果失败打印的是第一个reject结果
    var p = Promise.race([p1, p3, p2])
    p.then(res => console.log(res)).catch((err) => console.log('err' +err)) // p1 
    // 按顺序执行，没有失败的情况下，输出第一个成功的值，后面的失败也不管
    // 还没成功的时候，有一个失败直接失败
    // 也就是不管成功还是失败都返回第一个固化的结果
  </script>
</body>
</html>